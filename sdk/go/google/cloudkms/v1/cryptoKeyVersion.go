// *** WARNING: this file was generated by the Pulumi SDK Generator. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

package v1

import (
	"context"
	"reflect"

	"github.com/pkg/errors"
	"github.com/pulumi/pulumi/sdk/v2/go/pulumi"
)

// Create a new CryptoKeyVersion in a CryptoKey. The server will assign the next sequential id. If unset, state will be set to ENABLED.
type CryptoKeyVersion struct {
	pulumi.CustomResourceState
}

// NewCryptoKeyVersion registers a new resource with the given unique name, arguments, and options.
func NewCryptoKeyVersion(ctx *pulumi.Context,
	name string, args *CryptoKeyVersionArgs, opts ...pulumi.ResourceOption) (*CryptoKeyVersion, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.Parent == nil {
		return nil, errors.New("invalid value for required argument 'Parent'")
	}
	var resource CryptoKeyVersion
	err := ctx.RegisterResource("google-cloud:cloudkms/v1:CryptoKeyVersion", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetCryptoKeyVersion gets an existing CryptoKeyVersion resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetCryptoKeyVersion(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *CryptoKeyVersionState, opts ...pulumi.ResourceOption) (*CryptoKeyVersion, error) {
	var resource CryptoKeyVersion
	err := ctx.ReadResource("google-cloud:cloudkms/v1:CryptoKeyVersion", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering CryptoKeyVersion resources.
type cryptoKeyVersionState struct {
}

type CryptoKeyVersionState struct {
}

func (CryptoKeyVersionState) ElementType() reflect.Type {
	return reflect.TypeOf((*cryptoKeyVersionState)(nil)).Elem()
}

type cryptoKeyVersionArgs struct {
	// Output only. The CryptoKeyVersionAlgorithm that this CryptoKeyVersion supports.
	Algorithm *string `pulumi:"algorithm"`
	// Output only. Statement that was generated and signed by the HSM at key creation time. Use this statement to verify attributes of the key as stored on the HSM, independently of Google. Only provided for key versions with protection_level HSM.
	Attestation *KeyOperationAttestation `pulumi:"attestation"`
	// Output only. The time at which this CryptoKeyVersion was created.
	CreateTime *string `pulumi:"createTime"`
	// Output only. The time this CryptoKeyVersion's key material was destroyed. Only present if state is DESTROYED.
	DestroyEventTime *string `pulumi:"destroyEventTime"`
	// Output only. The time this CryptoKeyVersion's key material is scheduled for destruction. Only present if state is DESTROY_SCHEDULED.
	DestroyTime *string `pulumi:"destroyTime"`
	// ExternalProtectionLevelOptions stores a group of additional fields for configuring a CryptoKeyVersion that are specific to the EXTERNAL protection level.
	ExternalProtectionLevelOptions *ExternalProtectionLevelOptions `pulumi:"externalProtectionLevelOptions"`
	// Output only. The time this CryptoKeyVersion's key material was generated.
	GenerateTime *string `pulumi:"generateTime"`
	// Output only. The root cause of an import failure. Only present if state is IMPORT_FAILED.
	ImportFailureReason *string `pulumi:"importFailureReason"`
	// Output only. The name of the ImportJob used to import this CryptoKeyVersion. Only present if the underlying key material was imported.
	ImportJob *string `pulumi:"importJob"`
	// Output only. The time at which this CryptoKeyVersion's key material was imported.
	ImportTime *string `pulumi:"importTime"`
	// Output only. The resource name for this CryptoKeyVersion in the format `projects/*/locations/*/keyRings/*/cryptoKeys/*/cryptoKeyVersions/*`.
	Name *string `pulumi:"name"`
	// Required. The name of the CryptoKey associated with the CryptoKeyVersions.
	Parent string `pulumi:"parent"`
	// Output only. The ProtectionLevel describing how crypto operations are performed with this CryptoKeyVersion.
	ProtectionLevel *string `pulumi:"protectionLevel"`
	// The current state of the CryptoKeyVersion.
	State *string `pulumi:"state"`
}

// The set of arguments for constructing a CryptoKeyVersion resource.
type CryptoKeyVersionArgs struct {
	// Output only. The CryptoKeyVersionAlgorithm that this CryptoKeyVersion supports.
	Algorithm pulumi.StringPtrInput
	// Output only. Statement that was generated and signed by the HSM at key creation time. Use this statement to verify attributes of the key as stored on the HSM, independently of Google. Only provided for key versions with protection_level HSM.
	Attestation KeyOperationAttestationPtrInput
	// Output only. The time at which this CryptoKeyVersion was created.
	CreateTime pulumi.StringPtrInput
	// Output only. The time this CryptoKeyVersion's key material was destroyed. Only present if state is DESTROYED.
	DestroyEventTime pulumi.StringPtrInput
	// Output only. The time this CryptoKeyVersion's key material is scheduled for destruction. Only present if state is DESTROY_SCHEDULED.
	DestroyTime pulumi.StringPtrInput
	// ExternalProtectionLevelOptions stores a group of additional fields for configuring a CryptoKeyVersion that are specific to the EXTERNAL protection level.
	ExternalProtectionLevelOptions ExternalProtectionLevelOptionsPtrInput
	// Output only. The time this CryptoKeyVersion's key material was generated.
	GenerateTime pulumi.StringPtrInput
	// Output only. The root cause of an import failure. Only present if state is IMPORT_FAILED.
	ImportFailureReason pulumi.StringPtrInput
	// Output only. The name of the ImportJob used to import this CryptoKeyVersion. Only present if the underlying key material was imported.
	ImportJob pulumi.StringPtrInput
	// Output only. The time at which this CryptoKeyVersion's key material was imported.
	ImportTime pulumi.StringPtrInput
	// Output only. The resource name for this CryptoKeyVersion in the format `projects/*/locations/*/keyRings/*/cryptoKeys/*/cryptoKeyVersions/*`.
	Name pulumi.StringPtrInput
	// Required. The name of the CryptoKey associated with the CryptoKeyVersions.
	Parent pulumi.StringInput
	// Output only. The ProtectionLevel describing how crypto operations are performed with this CryptoKeyVersion.
	ProtectionLevel pulumi.StringPtrInput
	// The current state of the CryptoKeyVersion.
	State pulumi.StringPtrInput
}

func (CryptoKeyVersionArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*cryptoKeyVersionArgs)(nil)).Elem()
}

type CryptoKeyVersionInput interface {
	pulumi.Input

	ToCryptoKeyVersionOutput() CryptoKeyVersionOutput
	ToCryptoKeyVersionOutputWithContext(ctx context.Context) CryptoKeyVersionOutput
}

func (*CryptoKeyVersion) ElementType() reflect.Type {
	return reflect.TypeOf((*CryptoKeyVersion)(nil))
}

func (i *CryptoKeyVersion) ToCryptoKeyVersionOutput() CryptoKeyVersionOutput {
	return i.ToCryptoKeyVersionOutputWithContext(context.Background())
}

func (i *CryptoKeyVersion) ToCryptoKeyVersionOutputWithContext(ctx context.Context) CryptoKeyVersionOutput {
	return pulumi.ToOutputWithContext(ctx, i).(CryptoKeyVersionOutput)
}

type CryptoKeyVersionOutput struct {
	*pulumi.OutputState
}

func (CryptoKeyVersionOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*CryptoKeyVersion)(nil))
}

func (o CryptoKeyVersionOutput) ToCryptoKeyVersionOutput() CryptoKeyVersionOutput {
	return o
}

func (o CryptoKeyVersionOutput) ToCryptoKeyVersionOutputWithContext(ctx context.Context) CryptoKeyVersionOutput {
	return o
}

func init() {
	pulumi.RegisterOutputType(CryptoKeyVersionOutput{})
}
